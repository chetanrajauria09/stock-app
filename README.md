# stock-app
## ðŸ§  StockListViewModel Architecture

### âœ… Key Improvements

- **SOLID-compliant ViewModel** for stock listing and wishlist management
- **Dependency Injection** for `UserDefaults`, `URLSession`, and `APIEndpoint` (testable and mockable)
- Uses `@MainActor` and `@Published` for SwiftUI state synchronization
- `APIEndpoint` abstraction to centralize all URL logic
- Clean separation of concerns and better testability
- Supports polling with `async/await` (every 5 seconds)

### ðŸ”Œ Injected Dependencies

- `URLSession`: for mocking/stubbing API responses in unit tests
- `UserDefaults`: allows isolated test environments via `suiteName`
- `URL`: generated by `APIEndpoint`, supports default and custom symbol queries

### ðŸ“¦ Components

- `StockListViewModel`: Manages stock data and wishlist state
- `APIEndpoint`: URL builder for stock quote API
- `Stock`: Domain model conforming to `Codable` and `Identifiable`

### ðŸ§ª Testing

- Fully unit-testable using injected dependencies
- Mocked network layer using `URLProtocol`
- Clean `UserDefaults` isolation per test via `UserDefaults(suiteName:)`

---

### ðŸ”® Future Enhancements

- Offline caching via `FileManager` or `CoreData`
- Dynamic stock search or sector filtering
- Error reporting UI layer
- Combine `Task.cancel()` or polling switch toggle

